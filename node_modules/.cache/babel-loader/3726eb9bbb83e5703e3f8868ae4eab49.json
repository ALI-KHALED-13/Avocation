{"ast":null,"code":"var _jsxFileName = \"D:\\\\ali\\\\programming\\\\React\\\\avocation\\\\client\\\\src\\\\Components\\\\LogInPage.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LogInPage = ({\n  users,\n  setUser\n}) => {\n  _s();\n\n  const [identifier, setIdentifier] = useState('');\n  const [password, setPassword] = useState('');\n  const [passVisibile, setPassVisible] = useState(false);\n  const [userFound, setUserFound] = useState(true);\n  const history = useHistory();\n\n  const handleLogging = ev => {\n    ev.preventDefault();\n    const userMatched = users.find(user => user.userName === identifier || user.email === identifier);\n    if (!userMatched || userMatched.password !== password) return setUserFound(false);\n    fetch('/user', {\n      method: 'PUT',\n      headers: {\n        \"Content-Type\": 'application/json'\n      },\n      body: JSON.stringify(userMatched)\n    }).catch(console.log);\n    setUser(userMatched);\n    history.push('/');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"signing\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleLogging,\n      children: [userFound || /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"warning\",\n        children: \"User name/email or password is not correct or doesn't exist\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"identifier\",\n                children: \"User Name:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 35,\n                columnNumber: 30\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"identifier\",\n                name: \"identifier\",\n                placeholder: \"username or email\",\n                required: true,\n                value: identifier,\n                onChange: ev => setIdentifier(ev.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 36,\n                columnNumber: 30\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 36,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: \" \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"pass-feild\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"password\",\n                children: \"Password:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 45,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: passVisibile ? 'text' : 'password',\n                name: \"password\",\n                pattern: \".{5,}\",\n                id: \"password\",\n                required: true,\n                value: password,\n                onChange: ev => setPassword(ev.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setPassVisible(!passVisibile),\n                children: passVisibile ? \"Hide\" : \"Show\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"don't have an account yet?\", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/sign-up\",\n        children: \" sign up \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 9\n  }, this);\n};\n\n_s(LogInPage, \"CXzdhoQ/phUIkbbB3vQgoiGiuPU=\", false, function () {\n  return [useHistory];\n});\n\n_c = LogInPage;\nexport default LogInPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"LogInPage\");","map":{"version":3,"sources":["D:/ali/programming/React/avocation/client/src/Components/LogInPage.js"],"names":["useState","Link","useHistory","LogInPage","users","setUser","identifier","setIdentifier","password","setPassword","passVisibile","setPassVisible","userFound","setUserFound","history","handleLogging","ev","preventDefault","userMatched","find","user","userName","email","fetch","method","headers","body","JSON","stringify","catch","console","log","push","target","value"],"mappings":"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","sourcesContent":["import { useState } from 'react';\r\nimport {Link, useHistory} from 'react-router-dom';\r\n\r\nconst LogInPage =({users, setUser})=>{\r\n    const [identifier, setIdentifier] = useState('')\r\n    const [password, setPassword] = useState('');\r\n    const [passVisibile, setPassVisible] = useState(false);\r\n    const [userFound, setUserFound] = useState(true);\r\n    const history = useHistory();\r\n\r\n    const handleLogging =(ev)=>{\r\n        ev.preventDefault();\r\n        const userMatched = users.find(user=> user.userName === identifier || user.email === identifier);\r\n\r\n        if (!userMatched || userMatched.password !== password) return setUserFound(false);\r\n        \r\n        \r\n        fetch('/user', {\r\n            method: 'PUT',\r\n            headers: {\"Content-Type\": 'application/json'},\r\n            body: JSON.stringify(userMatched),\r\n        })\r\n        .catch(console.log);\r\n\r\n        setUser(userMatched);\r\n        history.push('/');\r\n    }\r\n    return (\r\n        <main className=\"signing\">\r\n            <form onSubmit={handleLogging}>\r\n                {userFound || <span className=\"warning\">User name/email or password is not correct or doesn't exist</span>}\r\n                <table>\r\n                    <tbody>\r\n                    <tr>\r\n                        <td> <label htmlFor=\"identifier\">User Name:</label> </td>\r\n                        <td> <input id='identifier' name=\"identifier\"  placeholder=\"username or email\"\r\n                                    required value={identifier} onChange={(ev)=> setIdentifier(ev.target.value)}\r\n                            />\r\n                        </td>\r\n                        <td> </td>\r\n                    </tr>\r\n\r\n                    <tr className=\"pass-feild\">\r\n                        <td> \r\n                            <label htmlFor=\"password\">Password:</label> \r\n                        </td>\r\n                        <td>\r\n                            <input type={passVisibile? 'text':'password'} name=\"password\" pattern=\".{5,}\" \r\n                                   id='password' required value={password} onChange={(ev)=> setPassword(ev.target.value)}\r\n                            />\r\n                        </td>\r\n                        <td>\r\n                            <button type=\"button\" onClick={()=> setPassVisible(!passVisibile)}> \r\n                                {passVisibile? \"Hide\":\"Show\"}\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                    </tbody>\r\n                </table>\r\n                <button>Log In</button>\r\n            </form>\r\n\r\n            <p>\r\n                don't have an account yet? \r\n                <Link to=\"/sign-up\"> sign up </Link>\r\n            </p>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default LogInPage\r\n\r\n"]},"metadata":{},"sourceType":"module"}