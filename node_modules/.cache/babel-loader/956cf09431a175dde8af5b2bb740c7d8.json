{"ast":null,"code":"var _jsxFileName = \"D:\\\\ali\\\\programming\\\\React\\\\avocation\\\\client\\\\src\\\\Components\\\\SignUpPage.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { Link } from 'react-router-dom';\nimport TagInp from './SubComponents/TagInput';\nimport favatar from './media/avatar-f.png';\nimport mavatar from './media/avatar-m.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SignUpPage = ({\n  users,\n  setUsers\n}) => {\n  _s();\n\n  const [password, setPassword] = useState('');\n  const [passVisibile, setPassVisible] = useState(false);\n  const [gender, setGender] = useState('');\n  const [savedHobbies, setSavedHobbies] = useState([\"LETTERATURE\", \"SINGING\", \"DRAWING\"]);\n  const [addedTags, setAddedTags] = useState([]);\n  const [passwordMatches, setPasswordMatches] = useState(true);\n  const [unameTaken, setUnameTaken] = useState(false);\n  const [emailExists, setEmailExists] = useState(false);\n  const history = useHistory();\n\n  const saveNewHobby = hobby => {\n    if (savedHobbies.indexOf(hobby) === -1) setSavedHobbies([...savedHobbies, hobby]);\n  };\n\n  const checkMatching = ev => {\n    const isMatching = ev.target.value === password;\n    setPasswordMatches(isMatching);\n    if (!isMatching) ev.target.value = '';\n  };\n\n  const checkExistance = ev => {\n    const type = ev.target.name;\n    const value = ev.target.value;\n\n    if (type === 'userName') {\n      if (users.some(user => user.userName === value)) return setUnameTaken(true);\n      setUnameTaken(false);\n    } else {\n      if (users.some(user => user.email === value)) return setEmailExists(true);\n      setEmailExists(false);\n    }\n  };\n\n  const handleNewUser = ev => {\n    ev.preventDefault();\n\n    if (emailExists || unameTaken) {\n      return alert('plaease correct your data to remove warnings');\n    }\n\n    const form = new FormData(ev.target);\n    form.append('hobbies', addedTags.join(' '));\n    fetch('/user', {\n      method: \"post\",\n      body: form\n    }).then(response => response.json()).then(serverMessage => {\n      if (serverMessage.message === 'done') {\n        setUsers([...users, serverMessage.result]);\n        history.push('/log-in');\n      } else {\n        console.log(serverMessage.message);\n      }\n    }).catch(console.Error);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"signing\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleNewUser,\n      children: [/*#__PURE__*/_jsxDEV(\"table\", {\n        children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"name\",\n                children: \"Name: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 30\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"name\",\n                name: \"name\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 30\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"will apear next to your avatar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"userName\",\n                children: \"User Name:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 30\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"userName\",\n                name: \"userName\",\n                placeholder: \"letters and numbers (no space)\",\n                pattern: \"^(?=.*[a-z])(?=.*[0-9])\\\\w*$\",\n                required: true,\n                onBlur: checkExistance\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\" \", unameTaken ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"warning\",\n                children: \"already taken, try another\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 43\n              }, this) : 'used to log in']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"pass-feild\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"password\",\n                children: \"Password:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: passVisibile ? 'text' : 'password',\n                name: \"password\",\n                placeholder: \"at least 5 characters\",\n                pattern: \"\\\\w{5,}\",\n                id: \"password\",\n                required: true,\n                value: password,\n                onChange: ev => setPassword(ev.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setPassVisible(!passVisibile),\n                children: passVisibile ? \"Hide\" : \"Show\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"pass-feild\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"passwordAgain\",\n                children: \"Confirm Password:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                placeholder: \"at least 5 characters\",\n                pattern: \"^\\\\w{5,}\",\n                id: \"passwordAgain\",\n                onBlur: checkMatching,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: passwordMatches || /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"warning\",\n                children: \"match the password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"Email\",\n                children: \"Email:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 30\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                name: \"email\",\n                required: true,\n                onBlur: checkExistance,\n                pattern: \"^\\\\w+([\\\\.-]?\\\\w+)*@\\\\w+([\\\\.-]?\\\\w+)*(\\\\.\\\\w{2,3})+$\",\n                id: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\" \", emailExists ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"warning\",\n                children: [\"already exists, try \", /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/log-in\",\n                  children: \"logging in\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 90\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 44\n              }, this) : 'used to log in']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"birthDate\",\n                children: \"Date of Birth:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 30\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                name: \"birthDate\",\n                max: \"2014-12-31\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Gender:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 30\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"gender-feild\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  name: \"gender\",\n                  value: \"male\",\n                  checked: gender === 'male',\n                  onChange: ev => setGender(ev.target.value),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 33\n                }, this), \"Male\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  name: \"gender\",\n                  value: \"female\",\n                  checked: gender === 'female',\n                  onChange: ev => setGender(ev.target.value),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 33\n                }, this), \"Female\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: gender && /*#__PURE__*/_jsxDEV(\"img\", {\n                src: gender === 'male' ? mavatar : favatar,\n                alt: \"avatar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 34\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 115\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"hobby\",\n                children: \"Hobbies:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 30\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"hobbies-feild\",\n              children: /*#__PURE__*/_jsxDEV(TagInp, {\n                savedTags: savedHobbies,\n                saveTag: saveNewHobby,\n                addedTags: addedTags,\n                setAddedTags: setAddedTags\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SignUpPage, \"t/FWFPCxV8NZ9yxR5ZtsxAr5ilY=\", false, function () {\n  return [useHistory];\n});\n\n_c = SignUpPage;\nexport default SignUpPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUpPage\");","map":{"version":3,"sources":["D:/ali/programming/React/avocation/client/src/Components/SignUpPage.js"],"names":["useState","useHistory","Link","TagInp","favatar","mavatar","SignUpPage","users","setUsers","password","setPassword","passVisibile","setPassVisible","gender","setGender","savedHobbies","setSavedHobbies","addedTags","setAddedTags","passwordMatches","setPasswordMatches","unameTaken","setUnameTaken","emailExists","setEmailExists","history","saveNewHobby","hobby","indexOf","checkMatching","ev","isMatching","target","value","checkExistance","type","name","some","user","userName","email","handleNewUser","preventDefault","alert","form","FormData","append","join","fetch","method","body","then","response","json","serverMessage","message","result","push","console","log","catch","Error"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { Link } from 'react-router-dom';\r\nimport TagInp from './SubComponents/TagInput';\r\nimport favatar from './media/avatar-f.png';\r\nimport mavatar from './media/avatar-m.png';\r\n\r\nconst SignUpPage =({users, setUsers})=>{\r\n    \r\n    const [password, setPassword] = useState('');\r\n    const [passVisibile, setPassVisible] = useState(false);\r\n    const [gender, setGender] = useState('');\r\n    const [savedHobbies, setSavedHobbies] = useState([\"LETTERATURE\", \"SINGING\", \"DRAWING\"]);\r\n    const [addedTags, setAddedTags] = useState([]);\r\n\r\n    const [passwordMatches, setPasswordMatches] = useState(true);\r\n    const [unameTaken, setUnameTaken] = useState(false);\r\n    const [emailExists, setEmailExists] = useState(false);\r\n    const history = useHistory();\r\n   \r\n\r\n    const saveNewHobby =(hobby)=> {\r\n        if (savedHobbies.indexOf(hobby) === -1) setSavedHobbies([...savedHobbies, hobby]);\r\n    }\r\n\r\n    const checkMatching =(ev)=>{\r\n        const isMatching = ev.target.value === password;\r\n        setPasswordMatches(isMatching);\r\n        if (!isMatching) ev.target.value = '';\r\n    }\r\n\r\n    const checkExistance =(ev)=>{\r\n        const type = ev.target.name;\r\n        const value = ev.target.value;\r\n        if (type === 'userName'){\r\n            if (users.some(user=> user.userName === value)) return setUnameTaken(true);\r\n            setUnameTaken(false);\r\n        } else {\r\n            if (users.some(user=> user.email === value)) return setEmailExists(true);\r\n            setEmailExists(false);\r\n        }\r\n    }\r\n\r\n    const handleNewUser =(ev)=>{\r\n        ev.preventDefault();\r\n        if (emailExists || unameTaken){\r\n            return alert('plaease correct your data to remove warnings');\r\n        }\r\n        const form = new FormData(ev.target);\r\n        form.append('hobbies', addedTags.join(' '));\r\n\r\n        fetch('/user', {method: \"post\",body: form,})\r\n        .then((response)=> response.json())\r\n        .then((serverMessage)=> {\r\n            if (serverMessage.message === 'done'){\r\n                setUsers([...users, serverMessage.result]);\r\n                history.push('/log-in');\r\n            } else {\r\n                console.log(serverMessage.message);\r\n            }\r\n        })\r\n        .catch(console.Error)\r\n    }\r\n\r\n    return (\r\n        <main className=\"signing\">\r\n            <form onSubmit={handleNewUser} >\r\n                <table>\r\n                    <tbody>\r\n\r\n                    <tr>\r\n                        <td> <label htmlFor=\"name\">Name: </label> </td>\r\n                        <td> <input id='name' name=\"name\" required/></td>\r\n                        <td>will apear next to your avatar</td>\r\n                    </tr>\r\n\r\n                    <tr>\r\n                        <td> <label htmlFor=\"userName\">User Name:</label> </td>\r\n                        <td>\r\n                            <input \r\n                                    id='userName' name=\"userName\" placeholder=\"letters and numbers (no space)\" \r\n                                    pattern=\"^(?=.*[a-z])(?=.*[0-9])\\w*$\" required onBlur={checkExistance}\r\n                            />\r\n                        </td>\r\n                        <td> {unameTaken? <span className=\"warning\">already taken, try another</span> :'used to log in'}</td>\r\n                    </tr>\r\n\r\n                    <tr className=\"pass-feild\">\r\n                        <td> \r\n                            <label htmlFor=\"password\">Password:</label> \r\n                        </td>\r\n                        <td>\r\n                            <input \r\n                                type={passVisibile? 'text':'password'} name=\"password\" placeholder=\"at least 5 characters\" \r\n                                pattern=\"\\w{5,}\" id='password' required value={password} onChange={(ev)=> setPassword(ev.target.value)}\r\n                            />\r\n                        </td>\r\n                        <td>\r\n                            <button type=\"button\" onClick={()=> setPassVisible(!passVisibile)}> \r\n                                {passVisibile? \"Hide\":\"Show\"}\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n\r\n                    <tr className=\"pass-feild\">\r\n                        <td> \r\n                            <label htmlFor=\"passwordAgain\">Confirm Password:</label> \r\n                        </td>\r\n                        <td>\r\n                            <input\r\n                                type='password' placeholder=\"at least 5 characters\" pattern=\"^\\w{5,}\" \r\n                                id='passwordAgain' onBlur={checkMatching} required\r\n                            />\r\n                        </td>\r\n                        <td>\r\n                            {passwordMatches || <span className=\"warning\">match the password</span>}\r\n                        </td>\r\n                    </tr>\r\n\r\n                    <tr>\r\n                        <td> <label htmlFor=\"Email\">Email:</label> </td>\r\n                        <td><input \r\n                                type=\"email\" name=\"email\" required onBlur={checkExistance}\r\n                                pattern=\"^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$\" id='Email'        \r\n                            />\r\n                        </td>\r\n                        <td> {emailExists? <span className=\"warning\">already exists, try <Link to=\"/log-in\">logging in</Link></span> :'used to log in'}</td>\r\n                    </tr>\r\n\r\n                    <tr>\r\n                        <td> <label htmlFor=\"birthDate\">Date of Birth:</label> </td>\r\n                        <td><input type=\"date\" name='birthDate' max=\"2014-12-31\" required/></td>\r\n                        <td></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td> <label>Gender:</label> </td>\r\n                        <td className=\"gender-feild\">\r\n                            <label>\r\n                                <input \r\n                                    type=\"radio\" \r\n                                    name=\"gender\" \r\n                                    value=\"male\"\r\n                                    checked={gender === 'male'}\r\n                                    onChange={(ev)=> setGender(ev.target.value)}\r\n                                    required/> \r\n                                Male \r\n                            </label>\r\n                            <label>\r\n                                <input \r\n                                    type=\"radio\" \r\n                                    name=\"gender\" \r\n                                    value=\"female\"\r\n                                    checked={gender === 'female'}\r\n                                    onChange={(ev)=> setGender(ev.target.value)} \r\n                                    required/>\r\n                                Female \r\n                            </label>\r\n                        </td>\r\n                        <td></td>\r\n                    </tr>\r\n\r\n                    <tr><td></td><td>{gender && <img src={gender === 'male'? mavatar:favatar} alt=\"avatar\"/>}</td><td></td></tr>\r\n\r\n                    <tr>\r\n                        <td> <label htmlFor=\"hobby\">Hobbies:</label> </td>\r\n                        <td className=\"hobbies-feild\">\r\n                            <TagInp \r\n                                savedTags={savedHobbies} \r\n                                saveTag={saveNewHobby}\r\n                                addedTags={addedTags}\r\n                                setAddedTags={setAddedTags}\r\n                                />\r\n                        </td>\r\n                        <td></td>\r\n                    </tr>\r\n                    </tbody>\r\n                </table>\r\n                <button>Sign Up</button>\r\n            </form>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default SignUpPage"]},"metadata":{},"sourceType":"module"}