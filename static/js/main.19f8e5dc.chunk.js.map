{"version":3,"sources":["Components/HomeComponents/ContactFooter.js","Components/media/avocado_icon.png","Components/AvocadoHeader.js","Components/HomeComponents/Categories.js","Components/media/loading.gif","Components/media/أمي.jpg","Components/HomeComponents/Avocata.js","Components/SubComponents/AvocataForm.js","Components/HomeComponents/AvocatasArea.js","Components/HomePage.js","App.js","reportWebVitals.js","index.js","Components/media/avatar-f.png","Components/media/avatar-m.png"],"names":["ContactFooter","to","AvocadoHeader","user","setUser","useState","showOptions","setShowOptions","alt","src","logo","className","gender","mavatar","favatar","onClick","userName","fetch","method","headers","body","JSON","stringify","then","localStorage","removeItem","catch","console","log","ev","prompt","password","alert","resp","json","message","deleted","error","style","color","marginTop","cursor","Categories","setChosenCategs","categories","setCategrories","useEffect","controller","AbortController","signal","tagsArr","availCateg","filter","tagOb","count","sort","ob1","ob2","slice","abort","target","nodeName","classList","toggle","chosen","Array","from","parentElement","getElementsByClassName","map","button","textContent","length","border","categ","tag","_","Avocata","fileURL","data","users","avocatas","updataAvocatas","deleting","setDeleting","author","find","creator","mediaType","contentType","URL","revokeObjectURL","logged","width","height","cx","cy","r","fill","name","createdAt","loading","id","_id","avoca","tags","indexOf","textAlign","text","match","mother","arrayBuffer","buffer","ab","ArrayBuffer","view","Uint8Array","i","toArrayBuffer","fileBuffer","file","File","fileName","type","createObjectURL","startsWith","controls","insertMedia","React","memo","TagInput","lazy","AvocataForm","savedTags","setSavedTags","addedTags","setAddedTags","fileInput","useRef","setFileName","isPosting","setIsPosting","uploaded","setUploaded","tagDoc","current","addEventListener","files","size","value","submitAvocata","a","preventDefault","form","FormData","uploadedFile","get","includes","options","maxSizeMB","maxWidthOrHeight","imageCompression","compressedFile","set","append","join","successful","avocata","reset","onSubmit","placeholder","required","Suspense","fallback","saveTag","tagTxt","accept","ref","AvocatasArea","props","state","bind","handleObserver","this","fetchedUsers","setState","createdBefore","Date","now","err","prevProps","prevState","observer","IntersectionObserver","threeshold","feedSection","document","getElementById","lastAvoca","children","observe","some","ind","arr","lastElementChild","visibility","entries","querySelector","isIntersecting","concat","unobserve","filename","chosenTags","chosenCategs","margin","Component","HomePage","AboutPage","ContactPage","LogInPage","SignUpPage","App","stillSaved","prevUser","parse","getItem","setUsers","express","basename","Fragment","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"4HAAA,kBAWeA,IATM,WACjB,OACI,mCACI,cAAC,IAAD,CAAMC,GAAG,SAAT,wBACA,cAAC,IAAD,CAAMA,GAAG,WAAT,6B,8HCNG,MAA0B,yC,qBCmF1BC,EA7EM,SAAC,GAAmB,IAAlBC,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QACzB,EAAsCC,oBAAS,GAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KA2CA,OACI,mCAEI,cAAC,IAAD,CAAMN,GAAG,IAAT,SAAc,qBAAKO,IAAI,OAAOC,IAAKC,MACnC,4CACA,yDAEA,qBAAKC,UAAU,OAAf,SAESR,EAED,sBAAKQ,UAAU,aAAf,UACI,qBACIH,IAAI,SACJC,IAAqB,SAAhBN,EAAKS,OAAmBC,IAAQC,IACrCC,QAAS,kBAAIR,GAAgBD,MAGjC,sBAAKK,WAAYL,EAAa,QAAQ,IAAM,cAA5C,UACI,mCAAMH,EAAKa,YACX,cAAC,IAAD,CAAMf,GAAG,IAAIc,QA7DvB,WACVE,MAAM,uCAAwC,CAC1CC,OAAQ,MACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAUnB,KAExBoB,MAAK,WACFC,aAAaC,WAAW,QACxBD,aAAaC,WAAW,cAExBlB,GAAe,GACfH,GAAQ,MAEXsB,MAAMC,QAAQC,MAgDK,qBACA,mBAAGb,QA7CN,SAACc,GAKlB,GAJAtB,GAAe,GAEKuB,OAAO,+DAAgE,MAErE3B,EAAK4B,SAAU,OAAQC,MAAM,2BAEnDf,MAAM,uCAAwC,CAC1CC,OAAQ,SACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAUnB,KAExBoB,MAAK,SAAAU,GAAI,OAAGA,EAAKC,UACjBX,MAAK,SAAAY,GACEA,EAAQC,SACRZ,aAAaC,WAAW,QACxBD,aAAaC,WAAW,cACxBrB,GAAQ,GACR4B,MAAM,uDAENA,MAAM,sCAAuCG,EAAQE,WAyBdC,MAAO,CAACC,MAAO,MAAOC,UAAW,OAAQC,OAAO,WAA3E,kCAXR,cAAC,IAAD,CAAMxC,GAAG,UAAT,0BCtBLyC,EApCG,SAAC,GAA2B,IAA1BC,EAAyB,EAAzBA,gBAAiBxC,EAAQ,EAARA,KACjC,EAAqCE,mBAAS,IAA9C,mBAAOuC,EAAP,KAAmBC,EAAnB,KAEAC,qBAAU,WACN,IAAMC,EAAa,IAAIC,gBAQvB,OAPA/B,MAAM,uCAAwC,CAACgC,OAAQF,EAAWE,SACjE1B,MAAK,SAAAU,GAAI,OAAGA,EAAKC,UACjBX,MAAK,SAAA2B,GACF,IAAMC,EAAaD,EAAQE,QAAO,SAAAC,GAAK,OAAGA,EAAMC,MAAQ,KAAGC,MAAK,SAACC,EAAKC,GAAN,OAAaA,EAAIH,MAAQE,EAAIF,SAC7FT,EAAeM,EAAWO,MAAM,EAAG,OAEtChC,MAAMC,QAAQC,KACR,kBAAKmB,EAAWY,WACxB,IAYH,OACI,wBAAO5C,QAXS,SAACc,GACjB,GAA2B,WAAvBA,EAAG+B,OAAOC,SAAd,CAEAhC,EAAG+B,OAAOE,UAAUC,OAAO,kBAE3B,IAAMC,EAASC,MAAMC,KAAKrC,EAAG+B,OAAOO,cAAcC,uBAAuB,mBACpDC,KAAI,SAAAC,GAAM,OAAEA,EAAOC,eAExC5B,EAAgBqB,EAAOQ,OAAQR,EAAQ,CAAC,OAGxC,UAEK7D,GAAQ,wBAAQmC,MAAO,CAACmC,OAAQ,8BAAxB,kBAER7B,EAAWyB,KAAI,SAAAK,GAAK,OAAG,iCAAyBA,EAAMC,KAAlBD,EAAMC,Y,wCChCxC,MAA0B,oCCA1BC,EAAA,IAA0B,+CCMnCC,EAAS,SAAC,GAAiD,IAMzDC,EANSC,EAA+C,EAA/CA,KAAM5E,EAAyC,EAAzCA,KAAM6E,EAAmC,EAAnCA,MAAOC,EAA4B,EAA5BA,SAAUC,EAAkB,EAAlBA,eAE1C,EAAgC7E,oBAAS,GAAzC,mBAAO8E,EAAP,KAAiBC,EAAjB,KACMC,EAASL,EAAMM,MAAK,SAAAnF,GAAI,OAAGA,EAAKa,WAAa+D,EAAKQ,WAClDC,EAAYT,EAAKU,YAKvB3C,qBAAU,kBAAK,kBAAK4C,IAAIC,gBAAgBb,MAAU,CAACA,IA6CnD,OACI,0BAASnE,UAAU,UAAnB,UACI,sBAAKA,UAAU,SAAf,UAEI,qBAAKF,IAAuB,SAAlB4E,EAAOzE,OAAmBC,IAASC,IAASN,IAAI,WACzDL,GAAQkF,EAAOO,QAAU,sBAAKC,MAAM,KAAKC,OAAO,KAAvB,cAA8B,wBAAQC,GAAG,KAAKC,GAAG,KAAKC,EAAE,MAAMC,KAAK,YAAnE,OAG1B,8BAAIb,EAAOc,KAAK,uBAChB,sBAAMxF,UAAU,eAAhB,SAAgCoE,EAAKqB,UAAU1C,MAAM,EAAE,SAEtDyB,GAAY,qBAAK3E,IAAI,YAAYC,IAAK4F,KAClC,OAAJlG,QAAI,IAAJA,OAAA,EAAAA,EAAMa,YAAaqE,EAAOrE,UAAW,wBAAQD,QAlCvC,SAACc,GAChBuD,GAAY,GAEZnE,MAAM,0CAA2C,CAC7CC,OAAO,SACPC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CAACgF,GAAIvB,EAAKwB,QAElChF,MAAK,SAAAU,GAAI,OAAGA,EAAKC,UACjBX,MAAK,SAAAY,GACFiD,GAAY,GACRjD,EAAQC,SACR8C,EAAeD,EAAS7B,QAAO,SAAAoD,GAAK,OAAGA,IAAUzB,MAEjDW,IAAIC,gBAAgBb,KAEpB9C,MAAM,uBACNL,QAAQC,IAAIO,EAAQE,WAEzBX,MAAMC,QAAQC,MAe6B,uBAE1C,sBAAKjB,UAAU,UAAf,UAEQoE,EAAK0B,KAAKC,QAAQ,QAAU,GAAK3B,EAAK0B,KAAKC,QAAQ,uBAAU,EACzD,qBAAKpE,MAAO,CAACqE,UAAW5B,EAAK6B,KAAKC,MAAM,MAAO,OAAO,UAAtD,SAAkE9B,EAAK6B,OACtE,mBAAGtE,MAAO,CAACqE,UAAW5B,EAAK6B,KAAKC,MAAM,MAAO,OAAO,UAApD,SAAgE9B,EAAK6B,OAG9D,cAAdpB,GA/DK,WACf,GAAqB,SAAjBT,EAAKQ,QACL,OAAO,qBAAK/E,IAAI,2BAA2BC,IAAKqG,EAAQnG,UAAU,QAAQ2F,GAAG,WAEjF,IAAMS,EAmEd,SAAuBC,GAGnB,IAFA,IAAIC,EAAK,IAAIC,YAAYF,EAAOxC,QAC5B2C,EAAO,IAAIC,WAAWH,GACjBI,EAAI,EAAGA,EAAIL,EAAOxC,SAAU6C,EAAGF,EAAKE,GAAKL,EAAOK,GACzD,OAAOJ,EAvEiBK,CAAcvC,EAAKwC,WAAWxC,MAC5CyC,EAAO,IAAIC,KAAK,CAACV,GAAchC,EAAK2C,SAAU,CAACC,KAAMnC,IAG3D,OAFAV,EAAUY,IAAIkC,gBAAgBJ,GAE1BhC,EAAUqC,WAAW,UACd,qBAAKrH,IAAKuE,EAAK2C,SAAUjH,IAAKqE,EAASnE,UAAU,UAGhD,uBAAOmH,UAAQ,EAACnH,UAAU,QAA1B,SACI,wBAAQF,IAAKqE,EAAS6C,KAAK,iBAkDHI,UAMjCC,MAAMC,KAAKpD,G,6CChFpBqD,EAAWF,IAAMG,MAAK,kBAAK,gCA2HlBC,EAxHI,SAAC,GAAoC,IAAnCjI,EAAkC,EAAlCA,KAAM8E,EAA4B,EAA5BA,SAAUC,EAAkB,EAAlBA,eACjC,EAAkC7E,mBAAS,IAA3C,mBAAOgI,EAAP,KAAkBC,EAAlB,KACA,EAAkCjI,mBAAS,IAA3C,mBAAOkI,EAAP,KAAkBC,EAAlB,KACMC,EAAYC,iBAAO,MACzB,EAAgCrI,mBAAS,IAAzC,mBAAOqH,EAAP,KAAiBiB,EAAjB,KACA,EAAkCtI,oBAAS,GAA3C,mBAAOuI,EAAP,KAAkBC,EAAlB,KACA,EAAgCxI,oBAAS,GAAzC,mBAAOyI,EAAP,KAAiBC,EAAjB,KAOAjG,qBAAU,WACN,IAAMC,EAAa,IAAIC,gBAOvB,OANA/B,MAAM,uCAAwC,CAACgC,OAAQF,EAAWE,SACjE1B,MAAK,SAAAU,GAAI,OAAGA,EAAKC,UACjBX,MAAK,SAAA2B,GACFoF,EAAapF,EAAQmB,KAAI,SAAA2E,GAAM,OAAGA,EAAOrE,WAE5CjD,MAAMC,QAAQC,KACR,kBAAKmB,EAAWY,WACxB,IAEHb,qBAAU,WAEN2F,EAAUQ,QAAQC,iBAAiB,UAAU,SAACrH,GAC1C,IAAI2F,EAAO3F,EAAG+B,OAAOuF,MAAM,GAC3B,IAAK3B,EAAM,OAAOuB,GAAY,GACzBvB,EAAKG,KAAKE,WAAW,WAA2B,eAAdL,EAAKG,KAOjCH,EAAK4B,KAAK,QAAU,GAE3BpH,MAAM,8CACNH,EAAG+B,OAAOyF,MAAQ,KAClBN,GAAY,GACZJ,EAAY,MAEZI,GAAY,GACZJ,EAAYnB,EAAKrB,QAbjBnE,MAAM,2CACNH,EAAG+B,OAAOyF,MAAQ,KAClBN,GAAY,GACZJ,EAAY,UAcrB,IAEH,IAAMW,EAAa,uCAAG,WAAOzH,GAAP,uBAAA0H,EAAA,yDAClB1H,EAAG2H,iBACHX,GAAa,GACPY,EAAO,IAAIC,SAAS7H,EAAG+B,UAEvB+F,EAAeF,EAAKG,IAAI,YAEVD,EAAahC,KAAKkC,SAAS,SAP7B,wBAQRC,EAAU,CAACC,UAAW,EAAKC,iBAAkB,KARrC,SASeC,YAAiBN,EAAcG,GAT9C,OASRI,EATQ,OAUdT,EAAKU,IAAI,QAASD,GAVJ,QAalBT,EAAKW,OAAO,UAAWjK,EAAKa,UAC5ByI,EAAKW,OAAO,OAAQ7B,EAAU8B,KAAK,MACnCZ,EAAKW,OAAO,WAAY1C,GACxB+B,EAAKW,OAAO,cAAZ,UAA2B3B,EAAUQ,QAAQE,MAAM,UAAnD,aAA2B,EAA4BxB,MAEvD1G,MAAM,0CAA2C,CAC7CC,OAAQ,OACRE,KAAMqI,IAETlI,MAAK,SAAAU,GAAI,OAAGA,EAAKC,UACjBX,MAAK,SAAAY,GACF0G,GAAa,GACT1G,EAAQmI,YACRpF,EAAe,CAAC/C,EAAQoI,SAAV,mBAAsBtF,KACpCpD,EAAG+B,OAAO4G,QACVhC,EAAa,IACbO,GAAY,KAEZ/G,MAAM,6BAA8BG,EAAQE,OAC5CV,QAAQC,IAAIO,EAAQE,WAI3BX,MAAMC,QAAQC,KApCG,4CAAH,sDAuCnB,OACI,uBAAM6I,SAAUnB,EAAhB,UAEI,sBAAK3I,UAAU,SAAf,UACI,qBAAKH,IAAI,SAASC,IAAqB,SAAhBN,EAAKS,OAAmBC,IAASC,MACxD,4BAAIX,EAAKgG,OACPyC,GAAa,qBAAKpI,IAAI,YAAYC,IAAK4F,OAG7C,0BAAUqE,YAAY,kBAAkBC,UAAQ,EAACxE,KAAK,SAEtD,cAAC,IAAMyE,SAAP,CAAgBC,SAAU,6CAA1B,SACI,cAAC3C,EAAD,CACIG,UAAWA,EACXyC,QA9FD,SAACC,IACuB,IAA/B1C,EAAU3B,QAAQqE,IAAgBzC,EAAa,GAAD,mBAAKD,GAAL,CAAgB0C,MA8FtDxC,UAAWA,EACXC,aAAcA,MAIpBM,GAAY,sBAAMnI,UAAU,WAAhB,SAA4B+G,IAE1C,wBAAOpB,GAAG,SAAV,8BACI,uBAAOqB,KAAK,OAAOqD,OAAO,qBAAqBC,IAAKxC,EAAWtC,KAAK,aAExE,iDCsCG+E,E,kDA5JX,WAAYC,GAAO,IAAD,8BACd,cAAMA,IACDC,MAAQ,CACTnG,SAAU,GACVD,MAAO,IAEX,EAAKjC,WAAa,IAAIC,gBACtB,EAAKkC,eAAiB,EAAKA,eAAemG,KAApB,gBACtB,EAAKC,eAAiB,EAAKA,eAAeD,KAApB,gBARR,E,qDAWlB,WAAoB,IAAD,OACfpK,MAAM,wCAAyC,CAACgC,OAAQsI,KAAKxI,WAAWE,SACvE1B,MAAK,SAAAU,GAAI,OAAGA,EAAKC,UACjBX,MAAK,SAAAiK,GACF,EAAKC,SAAS,CAACzG,MAAOwG,IAEtBvK,MAAM,+CAAgD,CAClDC,OAAQ,MACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CAACoK,cAAeC,KAAKC,QAC1C3I,OAAQ,EAAKF,WAAWE,SAE3B1B,MAAK,SAAAU,GAAI,OAAGA,EAAKC,UACjBX,MAAK,SAAA0D,GAAY,IAAD,EACTA,EAAS,GAAGsB,OAAZ,UAAoB,EAAK6E,MAAMnG,SAAS,UAAxC,aAAoB,EAAwBsB,MAChD,EAAKrB,eAAeD,MAEvBvD,OAAM,SAAAmK,GACc,eAAbA,EAAI1F,MACRxE,QAAQC,IAAIiK,SAInBnK,OAAM,SAAAmK,GACc,eAAbA,EAAI1F,MACRxE,QAAQC,IAAIiK,Q,gCAOpB,SAAmBC,EAAWC,GAAW,IAAD,OACpC,GAA+B,IAA3BA,EAAU/G,MAAMR,OAApB,CAEA,IAAMwH,EAAW,IAAIC,qBAAqBV,KAAKD,eAAgB,CAACY,WAAY,KAExEC,EAAcC,SAASC,eAAe,QACtCC,EAAYH,EAAYI,SAASJ,EAAYI,SAAS/H,OAAS,GACnEwH,EAASQ,QAAQF,GAGjBrL,MAAM,wCAAyC,CAACgC,OAAQsI,KAAKxI,WAAWE,SACvE1B,MAAK,SAAAU,GAAI,OAAGA,EAAKC,UACjBX,MAAK,SAAAiK,IAEcA,EAAahH,OAAS,EAAK4G,MAAMpG,MAAMR,QACvCgH,EAAaiB,MAAK,SAACtM,EAAMuM,GAAP,OAAcvM,EAAKyF,SAAW,EAAKwF,MAAMpG,MAAM0H,GAAK9G,YAEvE,EAAK6F,SAAS,CAACzG,MAAOwG,OAExC9J,MAAMC,QAAQC,Q,kCAGnB,WACI2J,KAAKxI,WAAWY,U,4BAGpB,SAAegJ,GACXpB,KAAKE,SAAS,CAACxG,SAAU0H,IACzBP,SAASC,eAAe,QAAQO,iBAAiBtK,MAAMuK,WAAa,W,4BAGxE,SAAeC,EAASd,GAAU,IAAD,OACzBG,EAAcC,SAASC,eAAe,QACS,OAA/CS,EAAQ,GAAGlJ,OAAOmJ,cAAc,YAED,SAA/BD,EAAQ,GAAGlJ,OAAOC,UAElBiJ,EAAQ,GAAGE,iBACXb,EAAYS,iBAAiBtK,MAAMuK,WAAa,UAEhD5L,MAAM,+CAAgD,CAClDC,OAAQ,MACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CACjBoK,cAAeH,KAAKH,MAAMnG,SAASsG,KAAKH,MAAMnG,SAAST,OAAS,GAAG4B,YAEvEnD,OAAQsI,KAAKxI,WAAWE,SAE3B1B,MAAK,SAAAU,GAAI,OAAGA,EAAKC,UACjBX,MAAK,SAAA0D,GACEA,EAAST,OAAS,GAClBS,EAAS,GAAGsB,MAAQ,EAAK6E,MAAMnG,SAAS,EAAKmG,MAAMnG,SAAST,OAAS,GAAG+B,KAExE,EAAKrB,eAAe,EAAKkG,MAAMnG,SAASgI,OAAOhI,IAEnDkH,EAAYS,iBAAiBtK,MAAMuK,WAAa,SAChDb,EAASkB,UAAUJ,EAAQ,GAAGlJ,WAEjClC,OAAM,SAAAmK,GACc,eAAbA,EAAI1F,MACRxE,QAAQC,IAAIiK,S,oBAKxB,WAAS,IAAD,OAEJ,OAAQN,KAAKH,MAAMpG,MAAMR,OAErB,0BAAS8B,GAAG,OAAZ,UAEI,cAAC,EAAD,CAASnG,MAAM,EAAO6E,MAAOuG,KAAKH,MAAMpG,MACpCD,KAAM,CACF6B,KAAM,2DACNrB,QAAS,OACTkB,KAAM,SACN0G,SAAU,yBACV1H,YAAa,aACbW,UAAW,aAKlBmF,KAAKJ,MAAMhL,MAAQ,cAAC,EAAD,CACAA,KAAMoL,KAAKJ,MAAMhL,KAAM8E,SAAUsG,KAAKH,MAAMnG,SAC5CC,eAAgBqG,KAAKrG,iBAIxCqG,KAAKH,MAAMnG,SAAST,OAAS,GAAK+G,KAAKH,MAAMnG,SACTZ,KAAI,SAAAkG,GACD,IAAI6C,EAAa,EAAKjC,MAAMkC,aAC5B,GAAID,EAAWvD,SAAS,QAAQ,CAC5B,GAAIU,EAAQhF,UAAY,EAAK4F,MAAMhL,KAAKa,SAAU,OAAO,KACzDoM,EAAa,EAAKjC,MAAMkC,aAAajK,QAAO,SAAAuB,GAAG,MAAW,SAARA,KAGtD,OAAIyI,EAAWX,MAAK,SAAA/H,GAAK,OAAoC,IAAjC6F,EAAQ9D,KAAKC,QAAQhC,MACtC,KAEJ,cAAC,EAAD,CAAiCK,KAAMwF,EACtCpK,KAAM,EAAKgL,MAAMhL,KAAM6E,MAAO,EAAKoG,MAAMpG,MACzCC,SAAU,EAAKmG,MAAMnG,SAAUC,eAAgB,EAAKA,gBAFvCqF,EAAQnE,cAMpE,yBAAS9D,MAAO,CAACgL,OAAQ,QAAzB,0CAvCwB,qD,GA/GdtF,IAAMuF,W,QCclBC,G,MAbC,SAAC,GAAU,IAATrN,EAAQ,EAARA,KACd,EAAwCE,mBAAS,CAAC,KAAlD,mBAAOgN,EAAP,KAAqB1K,EAArB,KACA,OACI,uBAAM2D,GAAG,OAAT,UACI,cAAC,EAAD,CAAY3D,gBAAiBA,EAAiBxC,KAAMA,IAEpD,cAAC,EAAD,CAAcA,KAAMA,EAAMkN,aAAcA,IAExC,cAACrN,EAAA,EAAD,SCRNyN,EAAYtF,gBAAK,kBAAK,gCACtBuF,EAAcvF,gBAAK,kBAAK,gCACxBwF,EAAYxF,gBAAK,kBAAK,gCACtByF,EAAazF,gBAAK,kBAAK,gCA4Dd0F,EAxDJ,WACT,IACIC,EADEC,EAAW1M,KAAK2M,MAAMxM,aAAayM,QAAQ,SAE7CF,IACFD,EAAa,IAAInC,KAAKnK,aAAayM,QAAQ,eAAiB,IAAItC,MAElE,MAAwBtL,qBAASyN,GAAYC,GAA7C,mBAAO5N,EAAP,KAAaC,EAAb,KACA,EAA0BC,mBAAS,IAAnC,mBAAO2E,EAAP,KAAckJ,EAAd,KAoBA,OAlBApL,qBAAU,WACR7B,MAAM,mDAAmDM,MAAK,SAAAU,GAAI,OAAGA,EAAKC,UACzEX,MAAK,SAAAwD,GAAI,OAAGpD,QAAQC,IAAImD,EAAKoJ,YAAUzM,MAAMC,QAAQC,OACrD,IAEHkB,qBAAU,WAER7B,MAAM,yCACLM,MAAK,SAAAU,GAAI,OAAGA,EAAKC,UACjBX,MAAK,SAAAiK,GAEAA,EAAahH,OAASQ,EAAMR,QAAQ0J,EAAS1C,MAGlD9J,OAAM,SAAAmK,GAAG,OAAGlK,QAAQC,IAAI,wBAAyBiK,SAKlD,cAAC,IAAD,CAAQuC,SAAS,aAAjB,SACE,eAAC,IAAMC,SAAP,WACE,cAAC,EAAD,CAAelO,KAAMA,EAAMC,QAASA,IACpC,eAAC,IAAD,WACE,cAAC,IAAD,CAAOkO,OAAK,EAACC,KAAK,IAAlB,SACE,cAAC,EAAD,CAAUpO,KAAMA,MAElB,eAAC,WAAD,CAAU0K,SAAU,8CAApB,UACE,cAAC,IAAD,CAAOyD,OAAK,EAACC,KAAK,WAAlB,SACE,cAACX,EAAD,CAAY5I,MAAOA,EAAOkJ,SAAUA,MAEtC,cAAC,IAAD,CAAOI,OAAK,EAACC,KAAK,UAAlB,SACE,cAACZ,EAAD,CAAW3I,MAAOA,EAAO5E,QAASA,MAEpC,cAAC,IAAD,CAAOkO,OAAK,EAACC,KAAK,SAAlB,SACE,cAACd,EAAD,MAEF,cAAC,IAAD,CAAOc,KAAK,WAAZ,SACE,cAACb,EAAD,kBC/CCc,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBnN,MAAK,YAAkD,IAA/CoN,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF9C,SAASC,eAAe,SAM1BmC,K,+BChBe,QAA0B,sC,+BCA1B,QAA0B,uC","file":"static/js/main.19f8e5dc.chunk.js","sourcesContent":["import {Link} from 'react-router-dom';\r\n\r\nconst ContactFooter =()=>{\r\n    return (\r\n        <footer>\r\n            <Link to=\"/about\">Who We Are</Link>\r\n            <Link to=\"/contact\">Contact Us</Link>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default ContactFooter;","export default __webpack_public_path__ + \"static/media/avocado_icon.7d4eb976.png\";","import {Link} from 'react-router-dom';\r\nimport logo from './media/avocado_icon.png';\r\nimport favatar from './media/avatar-f.png';\r\nimport mavatar from './media/avatar-m.png';\r\nimport { useState } from 'react';\r\n\r\nconst AvocadoHeader =({user, setUser})=>{\r\n    const [showOptions, setShowOptions] = useState(false);\r\n    \r\n    const logOut =()=>{\r\n        fetch('https://avocation.herokuapp.com/user', {\r\n            method: \"PUT\",\r\n            headers: {\"Content-Type\": 'application/json'},\r\n            body: JSON.stringify(user),\r\n        })\r\n        .then(()=>{\r\n            localStorage.removeItem('user');\r\n            localStorage.removeItem('expiryDate'); \r\n\r\n            setShowOptions(false);\r\n            setUser(false);\r\n        })\r\n        .catch(console.log);      \r\n    }\r\n\r\n\r\n    const deleteAccount =(ev)=>{\r\n        setShowOptions(false);\r\n\r\n        let passwordCheck = prompt('Sorry to see you leave T-T \\n Enter your password to confirm', '');\r\n\r\n        if (passwordCheck !== user.password) return  alert('password is not correct');\r\n            \r\n        fetch('https://avocation.herokuapp.com/user', {\r\n            method: \"DELETE\",\r\n            headers: {\"Content-type\": \"application/json\"},\r\n            body: JSON.stringify(user),\r\n        })\r\n        .then(resp=> resp.json())\r\n        .then(message=> {\r\n            if (message.deleted){\r\n                localStorage.removeItem('user');\r\n                localStorage.removeItem('expiryDate'); \r\n                setUser(false);\r\n                alert('your account and avocatas were deleted succesfully');\r\n            }else {\r\n                alert(\"couldn't delete your account, erro:\", message.error)\r\n            }\r\n        })\r\n    }\r\n    return (\r\n        <header>\r\n\r\n            <Link to=\"/\" ><img alt=\"logo\" src={logo}/></Link>\r\n            <h1>Avocation|</h1>\r\n            <p>your bright side hobbies</p>\r\n\r\n            <div className='user'>\r\n                {\r\n                    !user? \r\n                    <Link to=\"/log-in\" >Log In</Link>:\r\n                    <div className=\"userAvatar\">\r\n                        <img \r\n                            alt=\"avatar\" \r\n                            src={user.gender === 'male'? mavatar:favatar}\r\n                            onClick={()=>setShowOptions(!showOptions)}\r\n                        />\r\n                        \r\n                        <div className={(showOptions? 'show ':'') + 'userOptions'}>\r\n                            <h3>@{user.userName}</h3>\r\n                            <Link to=\"/\" onClick={logOut}>Log Out</Link>\r\n                            <p onClick={deleteAccount} style={{color: 'red', marginTop: '10px', cursor:\"pointer\"}}>\r\n                                Delete Account\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div>\r\n            \r\n        </header>\r\n    );\r\n}\r\n\r\nexport default AvocadoHeader;","import { useEffect, useState } from \"react\";\r\n\r\nconst Categories =({setChosenCategs, user})=>{\r\n    const [categories, setCategrories] = useState([]);\r\n\r\n    useEffect(()=>{\r\n        const controller = new AbortController();\r\n        fetch('https://avocation.herokuapp.com/tags', {signal: controller.signal})\r\n        .then(resp=> resp.json())\r\n        .then(tagsArr=>{\r\n            const availCateg = tagsArr.filter(tagOb=> tagOb.count > 0).sort((ob1, ob2)=> ob2.count - ob1.count );\r\n            setCategrories(availCateg.slice(0, 5));\r\n        })\r\n        .catch(console.log);\r\n        return ()=> controller.abort()\r\n    }, [])\r\n\r\n    const markSelected =(ev)=> {\r\n        if (ev.target.nodeName !== \"BUTTON\") return;\r\n  \r\n        ev.target.classList.toggle('selected-categ');\r\n\r\n        const chosen = Array.from(ev.target.parentElement.getElementsByClassName('selected-categ'))\r\n                            .map(button=>button.textContent);\r\n\r\n        setChosenCategs(chosen.length? chosen: ['']); // to avoid storing empty array, review catcha point in avocata area component\r\n    }\r\n    return (\r\n        <aside onClick={markSelected}>\r\n\r\n            {user && <button style={{border: \"solid rgb(124, 69, 32) 2px\"}}>mine</button>}\r\n\r\n            {categories.map(categ=> <button key={categ.tag}>{categ.tag}</button>)}\r\n            \r\n        </aside>\r\n    );\r\n}\r\n\r\nexport default Categories;","export default __webpack_public_path__ + \"static/media/loading.ecfdf316.gif\";","export default __webpack_public_path__ + \"static/media/أمي.b50a9144.jpg\";","import React, {useEffect, useState} from 'react';\r\nimport mavatar from '../media/avatar-m.png';\r\nimport favatar from '../media/avatar-f.png';\r\nimport loading from '../media/loading.gif';\r\nimport mother from '../media/أمي.jpg';\r\n\r\nconst Avocata =({data, user, users ,avocatas, updataAvocatas})=>{\r\n\r\n    const [deleting, setDeleting] = useState(false);\r\n    const author = users.find(user=> user.userName === data.creator);\r\n    const mediaType = data.contentType;\r\n    \r\n    let fileURL;\r\n\r\n    // delete the media url when the component unmounts (performance thing)\r\n    useEffect(()=> ()=> URL.revokeObjectURL(fileURL), [fileURL])\r\n\r\n\r\n    const insertMedia =()=>{\r\n        if (data.creator === \"Azza\"){\r\n            return <img alt=\"the most beautiful woman\" src={mother} className=\"media\" id=\"mother\"/>\r\n        }\r\n        const arrayBuffer = toArrayBuffer(data.fileBuffer.data)\r\n        const file = new File([arrayBuffer], data.fileName, {type: mediaType});\r\n        fileURL = URL.createObjectURL(file);\r\n\r\n        if (mediaType.startsWith('image/')){\r\n            return <img alt={data.fileName} src={fileURL} className=\"media\"/>\r\n        }else {\r\n            return (\r\n                    <audio controls className=\"media\">\r\n                        <source src={fileURL} type=\"audio/mpeg\"></source>\r\n                    </audio>\r\n                )\r\n        }\r\n    }\r\n    \r\n    \r\n    const deleteAvoca =(ev)=>{\r\n        setDeleting(true);\r\n\r\n        fetch('https://avocation.herokuapp.com/avocata', {\r\n            method:\"delete\",\r\n            headers: {\"Content-Type\": \"application/json\"},\r\n            body: JSON.stringify({id: data._id}),\r\n        })\r\n        .then(resp=> resp.json())\r\n        .then(message=> {\r\n            setDeleting(false);\r\n            if (message.deleted){\r\n                updataAvocatas(avocatas.filter(avoca=> avoca !== data));\r\n\r\n                URL.revokeObjectURL(fileURL); // (performance again)\r\n            }else{\r\n                alert(\"couldn't be deleted\")\r\n                console.log(message.error);\r\n            }\r\n        }).catch(console.log)\r\n    }\r\n\r\n    return  (\r\n        <article className=\"avocata\">\r\n            <div className=\"header\">\r\n                \r\n                <img src={author.gender === 'male'? mavatar: favatar} alt=\"avatar\"/>\r\n                {user && author.logged && <svg width=\"18\" height=\"18\" > <circle cx=\"10\" cy=\"10\" r=\"35%\" fill=\"#19d154\"/> </svg>}\r\n                \r\n\r\n                <p>{author.name}<br/>\r\n                <span className=\"date-created\">{data.createdAt.slice(0,10)}</span>\r\n                </p>\r\n                {deleting && <img alt=\"loading..\" src={loading} />}\r\n                {user?.userName === author.userName &&<button onClick={deleteAvoca}>Delete</button>}\r\n            </div>\r\n            <div className=\"content\">\r\n                {\r\n                    data.tags.indexOf('POE') >= 0 || data.tags.indexOf('شعر') >= 0?\r\n                        <pre style={{textAlign: data.text.match(/\\w/)? 'left':'center'}}>{data.text}</pre>\r\n                        :<p style={{textAlign: data.text.match(/\\w/)? 'left':'center'}}>{data.text}</p>\r\n                }\r\n                {\r\n                  mediaType !== 'undefined' &&  insertMedia()\r\n                }\r\n            </div>\r\n        </article>\r\n    );\r\n}\r\nexport default React.memo(Avocata);\r\n\r\nfunction toArrayBuffer(buffer) { //useMemo IT ???\r\n    var ab = new ArrayBuffer(buffer.length);\r\n    var view = new Uint8Array(ab);\r\n    for (var i = 0; i < buffer.length; ++i) view[i] = buffer[i];\r\n    return ab;\r\n}","import mavatar from '../media/avatar-m.png';\r\nimport favatar from '../media/avatar-f.png';\r\nimport loading from '../media/loading.gif';\r\n\r\nimport imageCompression from 'browser-image-compression';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\n\r\nconst TagInput = React.lazy(()=> import('../SubComponents/TagInput'));\r\n\r\n\r\nconst AvocataForm =({user, avocatas, updataAvocatas})=>{\r\n    const [savedTags, setSavedTags] = useState([]);\r\n    const [addedTags, setAddedTags] = useState([]);\r\n    const fileInput = useRef(null);\r\n    const [fileName, setFileName] = useState('');\r\n    const [isPosting, setIsPosting] = useState(false);\r\n    const [uploaded, setUploaded] = useState(false);\r\n\r\n\r\n    const saveTag =(tagTxt)=>{\r\n        if (savedTags.indexOf(tagTxt) === -1) setSavedTags([...savedTags, tagTxt]);\r\n    }\r\n    \r\n    useEffect(()=>{\r\n        const controller = new AbortController();\r\n        fetch('https://avocation.herokuapp.com/tags', {signal: controller.signal})\r\n        .then(resp=> resp.json())\r\n        .then(tagsArr=>{\r\n            setSavedTags(tagsArr.map(tagDoc=> tagDoc.tag));\r\n        })\r\n        .catch(console.log);\r\n        return ()=> controller.abort()\r\n    }, [])\r\n\r\n    useEffect(()=>{\r\n        \r\n        fileInput.current.addEventListener('change', (ev)=>{\r\n            let file = ev.target.files[0];\r\n            if (!file) return setUploaded(false);\r\n            if (!file.type.startsWith('image/') && file.type !== \"audio/mpeg\"){\r\n\r\n                alert('please upload an image or mp3 file only')\r\n                ev.target.value = null;\r\n                setUploaded(false);\r\n                setFileName('');\r\n\r\n            } else if (file.size/1048576 > 8) {\r\n\r\n                alert('file size it too big, files below 8MB only');\r\n                ev.target.value = null;\r\n                setUploaded(false);\r\n                setFileName('');\r\n            } else {\r\n                setUploaded(true);\r\n                setFileName(file.name)\r\n            }   \r\n        });\r\n        \r\n    }, [])\r\n\r\n    const submitAvocata = async (ev)=>{\r\n        ev.preventDefault();\r\n        setIsPosting(true);\r\n        const form = new FormData(ev.target);\r\n\r\n        const uploadedFile = form.get('media');\r\n\r\n        if (uploadedFile && uploadedFile.type.includes('image')){ //compress images\r\n            const options = {maxSizeMB: 1,   maxWidthOrHeight: 620};\r\n            const compressedFile = await imageCompression(uploadedFile, options);\r\n            form.set('media', compressedFile)\r\n        }\r\n\r\n        form.append('creator', user.userName);\r\n        form.append('tags', addedTags.join(' '));\r\n        form.append('fileName', fileName);\r\n        form.append('contentType', fileInput.current.files[0]?.type); //note optional chaining\r\n\r\n        fetch('https://avocation.herokuapp.com/avocata', {\r\n            method: \"POST\",\r\n            body: form,\r\n        })\r\n        .then(resp=> resp.json())\r\n        .then(message=>  {\r\n            setIsPosting(false);\r\n            if (message.successful){\r\n                updataAvocatas([message.avocata, ...avocatas]);\r\n                ev.target.reset();\r\n                setAddedTags([]);\r\n                setUploaded(false);\r\n            }else {\r\n                alert(\"couldn't post the avocata \"+ message.error);\r\n                console.log(message.error);\r\n            }\r\n            \r\n        })\r\n        .catch(console.log)\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={submitAvocata}>\r\n\r\n            <div className=\"header\">\r\n                <img alt=\"avatar\" src={user.gender === 'male'? mavatar: favatar}/>\r\n                <p>{user.name}</p>\r\n                { isPosting && <img alt=\"loading..\" src={loading} />}\r\n            </div>\r\n\r\n            <textarea placeholder=\"content/caption\" required name=\"text\"/>\r\n\r\n            <React.Suspense fallback={<div>loading...</div>}>\r\n                <TagInput \r\n                    savedTags={savedTags} \r\n                    saveTag={saveTag} \r\n                    addedTags={addedTags} \r\n                    setAddedTags={setAddedTags}\r\n                />\r\n            </React.Suspense>\r\n\r\n            { uploaded && <span className=\"fileData\">{fileName}</span> }\r\n\r\n            <label id=\"upload\"> Upload image/mp3\r\n                <input type=\"file\" accept=\"image/*,audio/mpeg\" ref={fileInput} name=\"media\"/>\r\n            </label>\r\n            <button>Publish</button>\r\n\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default AvocataForm;","import React from \"react\";\r\nimport Avocata from './Avocata';\r\nimport AvocataForm from \"../SubComponents/AvocataForm\";\r\n\r\n\r\nclass AvocatasArea extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            avocatas: [],\r\n            users: [],\r\n        };\r\n        this.controller = new AbortController();\r\n        this.updataAvocatas = this.updataAvocatas.bind(this);\r\n        this.handleObserver = this.handleObserver.bind(this);\r\n    }\r\n\r\n    componentDidMount(){\r\n        fetch('https://avocation.herokuapp.com/users', {signal: this.controller.signal})\r\n        .then(resp=> resp.json())\r\n        .then(fetchedUsers=> {\r\n            this.setState({users: fetchedUsers});\r\n\r\n            fetch('https://avocation.herokuapp.com/all-avocatas', {\r\n                method: \"PUT\",\r\n                headers: {\"Content-Type\": \"application/json\"},\r\n                body: JSON.stringify({createdBefore: Date.now()}),\r\n                signal: this.controller.signal,\r\n            })\r\n            .then(resp=> resp.json())\r\n            .then(avocatas=> {\r\n                if (avocatas[0]._id === this.state.avocatas[0]?._id) return // no new stuff\r\n                this.updataAvocatas(avocatas);   \r\n            })\r\n            .catch(err=>{\r\n                if (err.name === \"AbortError\") return;\r\n                console.log(err)\r\n            });\r\n\r\n        })\r\n        .catch(err=>{\r\n            if (err.name === \"AbortError\") return;\r\n            console.log(err)\r\n        });\r\n\r\n        \r\n    }\r\n    \r\n    \r\n    componentDidUpdate(prevProps, prevState){\r\n        if (prevState.users.length === 0) return ; // it the first update for users, avocatas are yet fetching\r\n\r\n        const observer = new IntersectionObserver(this.handleObserver, {threeshold: 0.1});\r\n\r\n        let feedSection = document.getElementById('feed');\r\n        let lastAvoca = feedSection.children[feedSection.children.length - 2]; //-1 is the loading..\r\n        observer.observe(lastAvoca);\r\n\r\n        /////////////////////update users status ////////\r\n        fetch('https://avocation.herokuapp.com/users', {signal: this.controller.signal})\r\n        .then(resp=> resp.json())\r\n        .then(fetchedUsers=>{\r\n\r\n            let condition = fetchedUsers.length > this.state.users.length || \r\n                            fetchedUsers.some((user, ind)=> user.logged !== this.state.users[ind].logged);\r\n\r\n            if (condition) this.setState({users: fetchedUsers})\r\n        })\r\n        .catch(console.log)\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.controller.abort();\r\n    }\r\n\r\n    updataAvocatas(arr){ \r\n        this.setState({avocatas: arr});\r\n        document.getElementById('feed').lastElementChild.style.visibility = \"hidden\";\r\n    }\r\n\r\n    handleObserver(entries, observer){\r\n        let feedSection = document.getElementById('feed');\r\n        if (entries[0].target.querySelector(\"#mother\") !== null) return; // it's my mother avoca (not logged IN)... wait till the last avoca gets inserted\r\n\r\n        if (entries[0].target.nodeName === \"FORM\") return; // it's the AvocataForm (logged IN)... wait till the last avoca gets inserted\r\n        \r\n        if (entries[0].isIntersecting){\r\n            feedSection.lastElementChild.style.visibility = \"visible\"; //loading text\r\n\r\n            fetch('https://avocation.herokuapp.com/all-avocatas', {\r\n                method: \"PUT\",\r\n                headers: {\"Content-Type\": \"application/json\"},\r\n                body: JSON.stringify({\r\n                    createdBefore: this.state.avocatas[this.state.avocatas.length - 1].createdAt\r\n                }),\r\n                signal: this.controller.signal,\r\n            })\r\n            .then(resp=> resp.json())\r\n            .then(avocatas=> {\r\n                if (avocatas.length > 0 && // if something was returned\r\n                    avocatas[0]._id !== this.state.avocatas[this.state.avocatas.length - 1]._id){ //avoid repetition\r\n\r\n                    this.updataAvocatas(this.state.avocatas.concat(avocatas));\r\n                }\r\n                feedSection.lastElementChild.style.visibility = \"hidden\";\r\n                observer.unobserve(entries[0].target); \r\n            })\r\n            .catch(err=>{\r\n                if (err.name === \"AbortError\") return;\r\n                console.log(err)\r\n            });\r\n        }\r\n    }\r\n\r\n    render(){\r\n        \r\n        return !this.state.users.length? <section>loading...</section>: \r\n          (\r\n            <section id=\"feed\">\r\n                \r\n                <Avocata user={false} users={this.state.users}\r\n                    data={{\r\n                        text: \"for my beloved Mother, who used to love avocado juice :)\",\r\n                        creator: \"Azza\",\r\n                        tags: \"THANKS\",\r\n                        filename: \"أمي.jpg\",\r\n                        contentType: \"image/jpeg\",\r\n                        createdAt: \"Forever\",\r\n\r\n                    }} \r\n                />\r\n\r\n                {this.props.user && <AvocataForm \r\n                                    user={this.props.user} avocatas={this.state.avocatas} \r\n                                    updataAvocatas={this.updataAvocatas}\r\n                                />\r\n                }\r\n\r\n                {this.state.avocatas.length > 0 && this.state.avocatas\r\n                                                    .map(avocata=>{\r\n                                                        let chosenTags = this.props.chosenCategs;\r\n                                                        if (chosenTags.includes('mine')){\r\n                                                            if (avocata.creator !== this.props.user.userName) return null\r\n                                                            chosenTags = this.props.chosenCategs.filter(tag=> tag !== 'mine');\r\n                                                        }\r\n                                                       \r\n                                                        if (chosenTags.some(categ=> avocata.tags.indexOf(categ) === -1)){ //catcha point: [''].some() runs, while [].some() returns false, always\r\n                                                            return null; //'blahblah'.indexOf('') === -1 returns false cause '' exists XD\r\n                                                        }\r\n                                                        return <Avocata key={avocata.createdAt} data={avocata} \r\n                                                                user={this.props.user} users={this.state.users}\r\n                                                                avocatas={this.state.avocatas} updataAvocatas={this.updataAvocatas}\r\n                                                                />\r\n                                                    })\r\n                }\r\n                 <article style={{margin: \"20px\"}}>Loading fresh avocatas...</article> \r\n\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AvocatasArea; //react.memo the who;e area???\r\n\r\n","import Categories from './HomeComponents/Categories';\r\nimport AvocatasArea from './HomeComponents/AvocatasArea';\r\nimport ContactFooter from './HomeComponents/ContactFooter';\r\nimport './HomeComponents/home.css';\r\nimport { useState } from 'react';\r\n\r\nconst HomePage =({user})=>{\r\n    const [chosenCategs, setChosenCategs] = useState(['']);\r\n    return (\r\n        <main id='home'>\r\n            <Categories setChosenCategs={setChosenCategs} user={user}/>\r\n\r\n            <AvocatasArea user={user} chosenCategs={chosenCategs}/>\r\n            \r\n            <ContactFooter />\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default HomePage;","import React, {useState, useEffect, Suspense, lazy} from 'react';\r\nimport {BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport './index.css';\r\nimport AvocadoHeader from './Components/AvocadoHeader';\r\nimport HomePage from './Components/HomePage';\r\n//lazyLoaded next\r\nconst AboutPage = lazy(()=> import('./Components/AboutPage'));\r\nconst ContactPage = lazy(()=> import('./Components/ContactPage'));\r\nconst LogInPage = lazy(()=> import('./Components/LogInPage'));\r\nconst SignUpPage = lazy(()=> import('./Components/SignUpPage'));\r\n\r\n\r\n\r\nconst App =()=>{\r\n  const prevUser = JSON.parse(localStorage.getItem('user')); // null if he isn't (JSON.parse(null) === null)\r\n  let stillSaved;\r\n  if (prevUser){\r\n    stillSaved = new Date(localStorage.getItem('expiryDate')) > new Date() ;\r\n  }\r\n  const [user, setUser] = useState(stillSaved? prevUser: false ); //indicating a guest if false\r\n  const [users, setUsers] = useState([]);\r\n\r\n  useEffect(()=> { //checking if the server is running\r\n    fetch('https://avocation.herokuapp.com/express_backend').then(resp=> resp.json())\r\n    .then(data=> console.log(data.express)).catch(console.log);\r\n  }, [])\r\n  \r\n  useEffect(()=>{\r\n    \r\n    fetch('https://avocation.herokuapp.com/users')\r\n    .then(resp=> resp.json())\r\n    .then(fetchedUsers=> {\r\n\r\n      if (fetchedUsers.length > users.length) setUsers(fetchedUsers);\r\n\r\n    })\r\n    .catch(err=> console.log('error fetching users ', err))\r\n    \r\n  })  \r\n\r\n  return (\r\n    <Router basename=\"/Avocation\">\r\n      <React.Fragment>\r\n        <AvocadoHeader user={user} setUser={setUser}/> \r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <HomePage user={user} />\r\n          </Route>\r\n          <Suspense fallback={<div>Loading....</div>}>\r\n            <Route exact path=\"/sign-up\">\r\n              <SignUpPage users={users} setUsers={setUsers}/>\r\n            </Route>\r\n            <Route exact path=\"/log-in\">\r\n              <LogInPage users={users} setUser={setUser}/>\r\n            </Route>\r\n            <Route exact path=\"/about\">\r\n              <AboutPage />\r\n            </Route>\r\n            <Route path=\"/contact\">\r\n              <ContactPage />\r\n            </Route>\r\n          </Suspense>\r\n        </Switch>\r\n      </React.Fragment>\r\n    </Router>\r\n  );\r\n}\r\n\r\n\r\nexport default App;\r\n\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","export default __webpack_public_path__ + \"static/media/avatar-f.b8f900aa.png\";","export default __webpack_public_path__ + \"static/media/avatar-m.5eef229f.png\";"],"sourceRoot":""}